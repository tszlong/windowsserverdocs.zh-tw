---
title: Windows 驗證概念
description: Windows Server 安全性
ms.topic: article
ms.assetid: 29d1db15-cae0-4e3d-9d8e-241ac206bb8b
ms.author: lizross
author: eross-msft
manager: mtillman
ms.date: 10/12/2016
ms.openlocfilehash: 5772a2dd56c60d1c5ce037181940f0593cede12f
ms.sourcegitcommit: db2d46842c68813d043738d6523f13d8454fc972
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/10/2020
ms.locfileid: "89638701"
---
# <a name="windows-authentication-concepts"></a>Windows 驗證概念

>適用於：Windows Server (半年度管道)、Windows Server 2016

本參考總覽主題說明 Windows 驗證所依據的概念。

驗證是確認物件或個人身分識別的程序。 驗證物件時，目標是要確認該物件為正版。 當您驗證人員時，目標是確認該人員不是冒名頂替者。

在網路內容中，驗證就是針對網路應用程式或資源提供身分識別的操作。 一般而言，身分識別是透過密碼編譯作業來證明，此作業只會使用使用者知道 (與公開金鑰加密) 或共用金鑰一樣。 驗證交換的伺服器端會使用已知的密碼編譯金鑰比較簽署的資料，來驗證該驗證嘗試。

在安全的集中位置儲存密碼編譯金鑰，可以擴充和管理驗證程序。 Active Directory 是儲存身分識別資訊的建議和預設技術，其中包含使用者認證的密碼編譯金鑰。 預設的 NTLM 與 Kerberos 實作需要 Active Directory。

驗證技術的範圍從簡單的登入到作業系統，或是登入服務或應用程式，這會根據只有使用者知道的內容（例如密碼）來識別使用者，以使用使用者 has'such 為權杖、公開金鑰憑證、圖片或生物等特性的功能。 在商業環境中，使用者可能會在位於單一位置或跨多個位置的多種類型的伺服器上存取多個應用程式。 基於上述原因，驗證必須支援其他平台與其他 Windows 作業系統的環境。

## <a name="authentication-and-authorization-a-travel-analogy"></a>驗證和授權：旅遊比喻
旅遊比喻有助於說明驗證的運作方式。 開始進行旅程通常需要一些準備工作。 旅行人員必須向其主機授權單位證明其真正的身分識別。 此證明的形式可以是公民證明、出生、個人的券、相片，或主機國家/地區的法律所需的內容。 旅行者的身分識別是由 passport 的發行所驗證，這類似于組織發出和管理的系統帳戶-安全性主體。 Passport 和預定的目的地是以政府授權單位所發行的一組規則和規定為基礎。

**旅程**

當出差人員到達國際框線時，border guard 會要求認證，而出差人員則會提供他或她的 passport。 此程式有兩個折迭：

-   此防護會驗證 passport，方法是確認它是由本機政府信任 (信任的安全性授權單位所發行，至少是要發出護照) ，以及驗證 passport 是否未修改。

-   藉由確認臉部符合 passport 上所示人員的臉部，以及其他必要的認證是否正確，此防護會驗證旅行者。

如果 passport 證明有效，且出差者證明是它的擁有者，驗證就會成功，而出差者可以跨框線進行存取。

安全性授權單位之間的可轉移信任是驗證的基礎;國際框線上發生的驗證類型是以信任為基礎。 當地政府不知道出差者，但它信任主機政府機關。 當主機政府發出 passport 時，它並不知道出差者。 它信任簽發出生憑證或其他檔的機構。 簽發出生憑證的機構接著信任簽署憑證的醫師。 醫師目睹出差者的生日，並透過直接證明身分識別憑證，在此案例中，新生兒的使用量。 以這種方式透過受信任的媒介傳送的信任是可轉移的。

可轉移信任是 Windows 用戶端/伺服器架構中網路安全性的基礎。 信任關係會流向一組網域，例如網域樹狀結構，並形成網域與所有信任該網域的網域之間的關聯性。 例如，如果網域 A 具有網域 B 的可轉移信任，而網域 B 信任網域 C，則網域 A 信任網域 C。

驗證與授權之間有差異。 使用驗證時，系統會證明您是您所說的。 在授權中，系統會驗證您是否有許可權可以進行您想要的動作。 為了讓框線與下一個步驟相較之下，只是驗證出差者是否為有效 passport 的適當擁有者，並不一定會授權出差人員輸入國家/地區。 特定國家/地區的居民可輸入另一個國家/地區，只要在所輸入國家/地區的國家/地區，授與該特定國家/地區的所有公民都不受限制的許可權即可。

同樣地，您可以授與來自特定網域許可權的所有使用者存取資源。 屬於該網域的任何使用者都可以存取資源，如同加拿大一樣，可讓美國公民進入加拿大。 不過，嘗試輸入巴西或印度的美國公民發現，因為這兩個國家/地區都需要造訪美國公民來取得有效的簽證，所以他們無法輸入這些國家/地區。 因此，驗證不保證可存取資源或使用資源的授權。

## <a name="credentials"></a>認證
Passport 與可能相關聯的 visas 是可接受的旅行者認證。 不過，這些認證可能無法讓旅行人員進入或存取某個國家/地區內的所有資源。 比方說，需要額外的認證才能參加會議。 在 Windows 中，可以管理認證，讓帳戶持有者可以透過網路存取資源，而不必重複提供其認證。 這種類型的存取權可讓使用者在一段時間內驗證使用者，以存取其授權使用的所有應用程式和資料來源，而不需要輸入其他帳戶識別碼或密碼。 Windows 平臺使用單一使用者身分識別的功能， (透過網路 Active Directory) 維護，方法是在本機快取作業系統本地安全機構 (LSA) 中的使用者認證。 當使用者登入網域時，Windows 驗證套件會以透明的方式使用認證，以在驗證網路資源的認證時提供單一登入。 如需認證的詳細資訊，請參閱 [Windows 驗證中的認證處理](credentials-processes-in-windows-authentication.md)程式。

旅行的多重要素驗證形式可能是必須攜帶並出示多份檔，以驗證他的身分識別，例如 passport 和會議註冊資訊。 Windows 透過智慧卡、虛擬智慧卡和生物特徵辨識技術來實行此表單或驗證。

## <a name="security-principals-and-accounts"></a>安全性主體和帳戶
在 Windows 中，任何可起始動作的使用者、服務、群組或電腦都是安全性主體。 安全性主體具有可在電腦本機或網域型的帳戶。 例如，即使沒有任何人登入，Windows 用戶端加入網域的電腦也可以與網域控制站通訊，藉此參與網路網域。 若要起始通訊，電腦必須具有網域中的使用中帳戶。 在接受電腦的通訊之前，網域控制站上的本地安全機構會驗證電腦的身分識別，然後定義電腦的安全性內容，就像是針對人類安全性主體一樣。 此安全性內容會定義特定電腦上的使用者或服務的身分識別和功能，或是網路上的使用者、服務、群組或電腦。 例如，它會定義可以存取的資源（例如檔案共用或印表機），以及可由使用者、服務或電腦在該資源上執行的動作，例如讀取、寫入或修改。 如需詳細資訊，請參閱 [安全性主體](/windows/security/identity-protection/access-control/security-principals)。

帳戶是識別 claimant 的方法--使用者或服務--要求存取權或資源。 持有正版 passport 的旅行者擁有具有主機國家/地區的帳戶。 使用者、使用者群組、物件和服務都可以有個別帳戶或共用帳戶。 帳戶可以是群組的成員，而且可以獲指派特定權利和許可權。 帳戶可以限制為本機電腦、workgroup、network，或指派給網域的成員資格。

系統會在每個版本的 Windows 上定義內建帳戶及其成員的安全性群組。 您可以使用安全性群組，將相同的安全性許可權指派給許多已成功驗證的使用者，進而簡化存取管理。 發出護照的規則可能需要將出差者指派給特定群組，例如商務或旅遊或政府。 此程式可確保群組中所有成員的一致安全性許可權。 藉由使用安全性群組指派許可權，表示對資源的存取控制仍維持不變，且易於管理和審核。 藉由新增和移除需要視需要從適當安全性群組存取的使用者，您可以將存取控制清單變更的頻率降到最低， (Acl) 。

獨立受管理的服務帳戶和虛擬帳戶是在 Windows Server 2008 R2 和 Windows 7 中引進，以提供必要的應用程式（例如 Microsoft Exchange Server 和 Internet Information Services (IIS) ），並隔離自己的網域帳戶，同時不需要系統管理員手動管理服務主體名稱 (SPN) 和這些帳戶的認證。 群組受管理的服務帳戶是在 Windows Server 2012 中引進，並在網域內提供相同的功能，但也會將該功能延伸到多部伺服器。 當連線到伺服器陣列上託管的服務時，例如「網路負載平衡」，支援相互驗證的驗證通訊協定會要求服務的所有執行個體都使用相同的主體。

如需有關帳戶的詳細資訊，請參閱：

-   [Active Directory 帳戶](/windows/security/identity-protection/access-control/active-directory-accounts)

-   [Active Directory 安全性群組](/windows/security/identity-protection/access-control/active-directory-security-groups)

-   [本機帳戶](https://technet.microsoft.com/itpro/windows/keep-bastion.local-accounts)

-   [Microsoft 帳戶](/windows/security/identity-protection/access-control/microsoft-accounts)

-   [服務帳戶](/windows/security/identity-protection/access-control/service-accounts)

-   [特殊身分](/windows/security/identity-protection/access-control/special-identities)

## <a name="delegated-authentication"></a>委派的驗證
若要使用旅遊比喻，國家（地區）可能會對官方政府委派的所有成員發出相同的存取權，只要是眾所周知的委派即可。 此委派可讓一個成員對另一個成員的授權單位採取動作。 在 Windows 中，當網路服務接受來自使用者的驗證要求，並假設該使用者的身分識別，以便起始第二個網路服務的新連線時，就會發生委派驗證。 若要支援委派的驗證，您必須建立前端或第一層伺服器（例如網頁伺服器），負責處理負責儲存資訊的用戶端驗證要求和後端或多層式伺服器，例如大型資料庫。 您可以將許可權委派給組織中的使用者，以減少系統管理員的系統管理負擔。

藉由將服務或電腦建立為受信任的委派，您可讓該服務或電腦完成委派的驗證、接收提出要求之使用者的票證，然後存取該使用者的資訊。 此模型會將後端伺服器上的資料存取限制為使用正確的存取控制權杖出示認證的使用者或服務。 此外，它還允許存取這些後端資源的存取權。 藉由要求藉由委派給伺服器的認證來存取所有資料，以代表用戶端使用，您可以確定伺服器無法遭入侵，而且您可以存取儲存在其他伺服器上的機密資訊。 委派驗證適用于多層式應用程式，這些應用程式是設計來跨多部電腦使用單一登入功能。

### <a name="authentication-in-trust-relationships-between-domains"></a>網域之間的信任關係中的驗證
擁有多個網域的大部分組織都必須有合法的使用者存取位於不同網域的共用資源，就像是允許出差者前往國家/地區的不同區域。 若要控制此存取權，一個網域中的使用者也必須經過驗證和授權，才能使用另一個網域中的資源。 若要在不同網域中的用戶端與伺服器之間提供驗證和授權功能，這兩個網域之間必須有信任關係。 信任是安全 Active Directory 通訊的基礎技術，而且是 Windows Server 網路架構的一部分安全性元件。

當兩個網域之間存在信任時，每個網域的驗證機制都會信任來自另一個網域的驗證。 信任說明提供資源網域中共用資源的控制存取權，也就是信任的網域-藉由確認連入驗證要求來自信任的授權單位--信任的網域。 如此一來，信任就會扮演橋接器，讓只有經過驗證的驗證要求在網域之間移動。

特定信任通過驗證要求的方式取決於其設定方式。 信任關係可以是單向的，方法是提供從受信任網域到信任網域中資源的存取權，或雙向，方法是提供從每個網域存取另一個網域中的資源。 信任也可以是非轉移的，在這種情況下，信任只存在於兩個信任夥伴網域之間，而信任會自動延伸至任何夥伴信任的其他網域。

如需信任如何運作的相關資訊，請參閱 [網域和樹系信任的運作方式](/previous-versions/windows/it-pro/windows-server-2003/cc773178(v=ws.10))。

### <a name="protocol-transition"></a>通訊協定轉換
通訊協定轉換可讓應用程式在使用者驗證層支援不同的驗證機制，並在後續的應用層中切換至 Kerberos 通訊協定以取得安全性功能，例如相互驗證和限制委派，以協助應用程式設計人員。

如需通訊協定轉換的詳細資訊，請參閱 [Kerberos 通訊協定轉換和限制委派](/previous-versions/windows/it-pro/windows-server-2003/cc758097(v=ws.10))。

### <a name="constrained-delegation"></a>限制委派
限制委派讓系統管理員能夠藉由限制應用程式服務可以代表使用者採取行動的範圍，來指定和強制執行應用程式信任界限。 您可以指定特定服務，讓信任委派的電腦可以要求資源。 限制服務授權許可權的彈性有助於改善應用程式安全性設計，藉由降低未受信任服務入侵的機會。

如需限制委派的詳細資訊，請參閱 [Kerberos 限制委派總覽](../kerberos/kerberos-constrained-delegation-overview.md)。

## <a name="additional-references"></a>其他參考資料
[Windows 登入和驗證技術總覽](https://technet.microsoft.com/library/dn269029.aspx)